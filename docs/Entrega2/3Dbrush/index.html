<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Entrega 2 - 3D Brush # Introducci√≥n # Se presentar√° un demo que ilustra una aplicaci√≥n de pintura en 3D que utiliza transformaciones de pantalla a mundo, similares a las empleadas en el Ray-casting, en la cual el usuario ser√° capaz de mover con los dedos de su mano izquierda el mundo y con los dedos de su mano derecha ser√° capaz de dibujar, todo esto a trav√©s de la c√°mara donde los rayos de luz virtuales se &ldquo;emiten&rdquo; o &ldquo;trazan&rdquo; en su camino desde el punto focal de una c√°mara a trav√©s de cada p√≠xel en el sensor de la c√°mara para determinar qu√© es visible a lo largo del rayo en el escena 3D."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="(1) 3D Brush"><meta property="og:description" content="Entrega 2 - 3D Brush # Introducci√≥n # Se presentar√° un demo que ilustra una aplicaci√≥n de pintura en 3D que utiliza transformaciones de pantalla a mundo, similares a las empleadas en el Ray-casting, en la cual el usuario ser√° capaz de mover con los dedos de su mano izquierda el mundo y con los dedos de su mano derecha ser√° capaz de dibujar, todo esto a trav√©s de la c√°mara donde los rayos de luz virtuales se &ldquo;emiten&rdquo; o &ldquo;trazan&rdquo; en su camino desde el punto focal de una c√°mara a trav√©s de cada p√≠xel en el sensor de la c√°mara para determinar qu√© es visible a lo largo del rayo en el escena 3D."><meta property="og:type" content="article"><meta property="og:url" content="https://vcwork.github.io/project/docs/Entrega2/3Dbrush/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-14T22:33:46-05:00"><title>(1) 3D Brush | Showcase Template</title><link rel=manifest href=/project/manifest.json><link rel=icon href=/project/favicon.png type=image/x-icon><link rel=stylesheet href=/project/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/project/flexsearch.min.js></script>
<script defer src=/project/en.search.min.f3f81a4ead097b2011b43e9932c1b0ed45c8aa35c3f6df039ac030fe85fbff88.js integrity="sha256-8/gaTq0JeyARtD6ZMsGw7UXIqjXD9t8DmsAw/oX7/4g=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/project/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/project/docs/ilusiones/>Entrega 1</a></li><li><input type=checkbox id=section-1c2a9454c2f3625c9b60a69e31250130 class=toggle checked>
<label for=section-1c2a9454c2f3625c9b60a69e31250130 class="flex justify-between"><a role=button>Entrega 2</a></label><ul><li><a href=/project/docs/Entrega2/3Dbrush/ class=active>(1) 3D Brush</a></li><li><a href=/project/docs/Entrega2/Ray-Tracing/>(2) Ray Tracing</a></li><li><a href=/project/docs/Entrega2/rendering/>(3) Renderizaci√≥n en software</a></li></ul></li><li><input type=checkbox id=section-394698d7d249dcdae2cc71d29618744e class=toggle>
<label for=section-394698d7d249dcdae2cc71d29618744e class="flex justify-between"><a role=button>Entrega 3</a></label><ul><li><a href=/project/docs/Entrega3/parte1/>Parte I</a></li><li><a href=/project/docs/Entrega3/parte2/>Parte II</a></li><li><a href=/project/docs/Entrega3/parte3/>Parte III</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/project/svg/menu.svg class=book-icon alt=Menu></label>
<strong>(1) 3D Brush</strong>
<label for=toc-control><img src=/project/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#entrega-2---3d-brush>Entrega 2 - 3D Brush</a><ul><li><a href=#introducci√≥n>Introducci√≥n</a></li><li><a href=#contexto>Contexto</a><ul><li><a href=#ray-casting>Ray Casting</a></li></ul></li><li><a href=#resultados>Resultados</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a></li><li><a href=#recursos>Recursos</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=entrega-2---3d-brush>Entrega 2 - 3D Brush
<a class=anchor href=#entrega-2---3d-brush>#</a></h1><h2 id=introducci√≥n>Introducci√≥n
<a class=anchor href=#introducci%c3%b3n>#</a></h2><p>Se presentar√° un demo que ilustra una aplicaci√≥n de pintura en 3D que utiliza transformaciones de pantalla a mundo, similares a las empleadas en el Ray-casting, en la cual el usuario ser√° capaz de mover con los dedos de su mano izquierda el mundo y con los dedos de su mano derecha ser√° capaz de dibujar, todo esto a trav√©s de la c√°mara donde los rayos de luz virtuales se &ldquo;emiten&rdquo; o &ldquo;trazan&rdquo; en su camino desde el punto focal de una c√°mara a trav√©s de cada p√≠xel en el sensor de la c√°mara para determinar qu√© es visible a lo largo del rayo en el escena 3D.</p><h2 id=contexto>Contexto
<a class=anchor href=#contexto>#</a></h2><h3 id=ray-casting>Ray Casting
<a class=anchor href=#ray-casting>#</a></h3><p>El Ray casting es el m√°s b√°sico de muchos algoritmos de renderizaci√≥n de gr√°ficos por computadora que usan el algoritmo geom√©trico de ray tracing. Los algoritmos basados en ray tracing operan en orden de imagen para renderizar escenas tridimensionales a im√°genes bidimensionales. Los rayos geom√©tricos son trazados desde el ojo del observador (trazado hacia atr√°s) para calcular la radiancia que viaja hacia el observador en la direcci√≥n del rayo. La rapidez y simplicidad del trazado de los rayos provienen de computar el color de la luz sin trazar recursivamente rayos adicionales para obtener la radiancia incidente en el punto donde el rayo intercepta. Esto elimina la posibilidad de renderizar con exactitud las reflexiones, refracciones, y las sombras. Aun as√≠ todos estos elementos pueden ser simulados en un cierto grado, con el uso ingenioso de mapas de textura u otros m√©todos. La velocidad de c√≥mputo del ray casting lo convirti√≥ en un m√©todo pr√°ctico de renderizado para los primeros videojuegos de 3D con renderizaci√≥n de escenas en tiempo real.</p><p><img src=https://upload.wikimedia.org/wikipedia/commons/3/3a/Anarch_short_gameplay.gif width=300> | <img src=https://www.computerhope.com/jargon/r/ray-casting-diagram.jpg width=300></p><h2 id=resultados>Resultados
<a class=anchor href=#resultados>#</a></h2><p><details><summary>Ver C√≥digo</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * 
</span></span></span><span style=display:flex><span><span style=color:#75715e>https://editor.p5js.org/pixelfelt/sketches/oS5CwSbM1
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Finger painting: A starter sketch demonstrating how to &#34;finger paint&#34; with Handsfree.js
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Step 1: Press the ‚ñ∂ Play Button on the top left of the p5 editor (or load this sketch in a browser)
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Step 2: Click &#34;Start Webcam&#34; underneath the black canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Step 3: Wait a few moments for everything to start (the computer vision models are large)
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Step 4: Pinch your fingers to paint üëå The left index pointer (big black circle) is an eraser and the left pinky clears the whole screen
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * ----------
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * How it works (CTRL+F for &#34;#n&#34; to jump to that bit of code):
</span></span></span><span style=display:flex><span><span style=color:#75715e> * -- Add Handsfree.js to index.html
</span></span></span><span style=display:flex><span><span style=color:#75715e> * #1 Configure Handsfree.js
</span></span></span><span style=display:flex><span><span style=color:#75715e> * #2 Detect when fingers are pinched and then paint there
</span></span></span><span style=display:flex><span><span style=color:#75715e> * #3 Draw your hands landmarks onto the sketch
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * ----------
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Docs: https://handsfree.js.org (old)
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Docs: https://handsfree.dev (newer but missing examples)
</span></span></span><span style=display:flex><span><span style=color:#75715e> * GitHub: https://github.com/midiblocks/handsfree
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Twitter (me + handsfree.js): https://github.com/pixelfelt
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Twitter (just handsfree.js): https://github.com/handsfreejs
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * ----------
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Ideas:
</span></span></span><span style=display:flex><span><span style=color:#75715e> * - Experiment with different input methods (like pinching to cycle through colors). Gestures are coming soon: https://handsfree.js.org/gesture/
</span></span></span><span style=display:flex><span><span style=color:#75715e> * - If you need 3D (but with a limit of 1 hand), see here: https://handsfree.js.org/ref/model/handpose.html
</span></span></span><span style=display:flex><span><span style=color:#75715e> * - Try the &#34;palm pointer&#34; for a different approach to painting: https://handsfree.js.org/ref/plugin/palmPointers.html
</span></span></span><span style=display:flex><span><span style=color:#75715e> * - This can support up to 4 hands: https://handsfree.js.org/ref/model/hands.html#with-config
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// This will contain all of our lines
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>paint</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Controles de las brocha
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>easycam</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>state</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>escorzo</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>points</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>record</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dx</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dy</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorPi</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>depth</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>brush</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// This is like pmouseX and pmouseY...but for every finger [pointer, middle, ring, pinky]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>prevPointer</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Left hand
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  [{<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}],
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Right hand
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  [{<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}]
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>posPointer</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Left hand
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  [{<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}],
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Right hand
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  [{<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}, {<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>}]
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>PrevpointerCopy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>prevPointer</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Landmark indexes for fingertips [pointer, middle, ring, pinky]...these are the same for both hands
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>fingertips</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>20</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Setup
</span></span></span><span style=display:flex><span><span style=color:#75715e> * - Configure handsfree (set which models, plugins, and gestures you want to use)
</span></span></span><span style=display:flex><span><span style=color:#75715e> * - Create start/stop buttons. It&#39;s nice to always ask user for permission to start webcam :)
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span> () {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>depth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>record</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sketch</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>640</span>, <span style=color:#ae81ff>480</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorPi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#e6db74>&#39;#ed225d&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorPi</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>70</span>, <span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>points</span> <span style=color:#f92672>=</span> []  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Colors for each fingertip
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>colorMap</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Left fingertips
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [<span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>)],
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Right fingertips
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [<span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>)]
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// #1 Turn on some models (hand tracking) and the show debugger
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// @see https://handsfree.js.org/#quickstart-workflow
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>handsfree</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Handsfree</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>showDebug</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>, <span style=color:#75715e>// Comment this out to hide the default webcam feed with landmarks
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>hands</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>enablePlugins</span>(<span style=color:#e6db74>&#39;browser&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>plugin</span>.<span style=color:#a6e22e>pinchScroll</span>.<span style=color:#a6e22e>disable</span>()
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Add webcam buttons under the canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// Handsfree.js comes with a bunch of classes to simplify hiding/showing things when things are loading
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// @see https://handsfree.js.org/ref/util/classes.html#started-loading-and-stopped-states
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>buttonStart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Start Webcam&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttonStart</span>.<span style=color:#66d9ef>class</span>(<span style=color:#e6db74>&#39;handsfree-show-when-stopped&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttonStart</span>.<span style=color:#66d9ef>class</span>(<span style=color:#e6db74>&#39;handsfree-hide-when-loading&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttonStart</span>.<span style=color:#a6e22e>mousePressed</span>(() =&gt; <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>start</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Create a &#34;loading...&#34; button
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>buttonLoading</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;...loading...&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttonLoading</span>.<span style=color:#66d9ef>class</span>(<span style=color:#e6db74>&#39;handsfree-show-when-loading&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Create a stop button
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>buttonStop</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Stop Webcam&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttonStop</span>.<span style=color:#66d9ef>class</span>(<span style=color:#e6db74>&#39;handsfree-show-when-started&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttonStop</span>.<span style=color:#a6e22e>mousePressed</span>(() =&gt; <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>stop</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// easycam stuff
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>distance</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>250</span>,           <span style=color:#75715e>// scalar
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>center</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],       <span style=color:#75715e>// vector
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>rotation</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>],  <span style=color:#75715e>// quaternion
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  };
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createEasyCam</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>state_reset</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>state</span>;   <span style=color:#75715e>// state to use on reset (double-click/tap)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>setState</span>(<span style=color:#a6e22e>state</span>, <span style=color:#ae81ff>2000</span>); <span style=color:#75715e>// now animate to that state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>escorzo</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>perspective</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>brush</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sphereBrush</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Main draw loop
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span> () {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fingerPaint</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mousePaint</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawHands</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>update</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>120</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>0.8</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#39;magenta&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>grid</span>({ <span style=color:#a6e22e>dotted</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span> });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>axes</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>point</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>points</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>point</span>.<span style=color:#a6e22e>worldPosition</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brush</span>(<span style=color:#a6e22e>point</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Revisar la rotacion en x y y ,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#39;finger-pinched-0-0&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Display the x and y of the right pinky
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>   <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>rotateY</span>(<span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//console.log(&#34;derecha&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>  <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//console.log(&#34;izquierda&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>  <span style=color:#f92672>&gt;</span>  <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>rotateX</span>(<span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//console.log(&#34;arriba&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>   <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>rotateX</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//console.log(&#34;abajo&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      } 
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#75715e>// revisar la rotacion en z
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#39;finger-pinched-0-1&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Display the x and y of the right pinky
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>zoom</span>(<span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//console.log(&#34;arriba&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>zoom</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//console.log(&#34;abajo&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      } 
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>update</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>((<span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span>) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>height</span>)), <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Dibujar con un color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#39;finger-pinched-1-0&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Display the x and y of the right pinky
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>   <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dx</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>10</span> ; 
</span></span><span style=display:flex><span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>  <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>10</span> ;
</span></span><span style=display:flex><span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>  <span style=color:#f92672>&gt;</span>  <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dy</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>10</span> ;
</span></span><span style=display:flex><span>      }<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>   <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dy</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>      } 
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>dx</span>, <span style=color:#e6db74>&#34;  &#34;</span>, <span style=color:#a6e22e>dy</span>, <span style=color:#e6db74>&#34; &#34;</span>, <span style=color:#a6e22e>depth</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posPointer</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>curPinch</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>pinchState</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;esta con estados&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>pinchState</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;held&#39;</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;esta grabando&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>points</span>.<span style=color:#a6e22e>push</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>worldPosition</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>treeLocation</span>([<span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span>, <span style=color:#ae81ff>0.5</span>], { <span style=color:#a6e22e>from</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;SCREEN&#39;</span>, <span style=color:#a6e22e>to</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;WORLD&#39;</span> }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>colorPi</span>.<span style=color:#a6e22e>color</span>(),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>speed</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>speed</span>
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * #2 Finger paint
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Since p5.js already has it&#39;s own loop, we just check the data directly
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @see https://handsfree.js.org/ref/plugin/pinchers.html
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Whenever we pinch and move we&#39;ll store those points as a set of [x1, y1, handIndex, fingerIndex, size]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fingerPaint</span> () {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bounds</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;canvas&#39;</span>).<span style=color:#a6e22e>getClientRects</span>()[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>hands</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>hands</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hands</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>pinchState</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>pinchState</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>hand</span>, <span style=color:#a6e22e>handIndex</span>) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>hand</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>state</span>, <span style=color:#a6e22e>finger</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>landmarks</span><span style=color:#f92672>?</span>.[<span style=color:#a6e22e>handIndex</span>]<span style=color:#f92672>?</span>.[<span style=color:#a6e22e>fingertips</span>[<span style=color:#a6e22e>finger</span>]]) {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>landmarks</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>fingertips</span>[<span style=color:#a6e22e>finger</span>]].<span style=color:#a6e22e>x</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>width</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>landmarks</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>fingertips</span>[<span style=color:#a6e22e>finger</span>]].<span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>height</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// Start line on the spot that we pinched
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>state</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;start&#39;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>prevPointer</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>finger</span>] <span style=color:#f92672>=</span> {<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// Add a line to the paint array
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>state</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;held&#39;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>paint</span>.<span style=color:#a6e22e>push</span>([
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>prevPointer</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>finger</span>].<span style=color:#a6e22e>x</span>,
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>prevPointer</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>finger</span>].<span style=color:#a6e22e>y</span>,
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>x</span>,
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>y</span>,
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>colorMap</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>finger</span>]
</span></span><span style=display:flex><span>            ])
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// Set the last position
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>prevPointer</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#a6e22e>finger</span>] <span style=color:#f92672>=</span> {<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>}          
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    })  
</span></span><span style=display:flex><span>  } 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Clear everything if the left [0] pinky [3] is pinched
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hands</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>pinchState</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>pinchState</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>3</span>] <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;released&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>paint</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Draw Paint
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>paint</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>p</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>], <span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>2</span>], <span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>3</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Draw the mouse
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mousePaint</span> () {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mouseIsPressed</span> <span style=color:#f92672>===</span> <span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorMap</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#a6e22e>colorMap</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>mouseX</span>, <span style=color:#a6e22e>mouseY</span>, <span style=color:#ae81ff>0</span>  , <span style=color:#a6e22e>pmouseX</span>, <span style=color:#a6e22e>pmouseY</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * #3 Draw the hands into the P5 canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @see https://handsfree.js.org/ref/model/hands.html#data
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawHands</span> () {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>hands</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>handsfree</span>.<span style=color:#a6e22e>data</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>hands</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Bail if we don&#39;t have anything to draw
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>hands</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>landmarks</span>) <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Draw keypoints
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>hands</span>.<span style=color:#a6e22e>landmarks</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>hand</span>, <span style=color:#a6e22e>handIndex</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hand</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>landmark</span>, <span style=color:#a6e22e>landmarkIndex</span>) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Set color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// @see https://handsfree.js.org/ref/model/hands.html#data
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>colorMap</span>[<span style=color:#a6e22e>handIndex</span>]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>landmarkIndex</span>) {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>8</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorMap</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#ae81ff>0</span>]); <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>12</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorMap</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#ae81ff>1</span>]); <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>16</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorMap</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#ae81ff>2</span>]); <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>20</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorMap</span>[<span style=color:#a6e22e>handIndex</span>][<span style=color:#ae81ff>3</span>]); <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>))
</span></span><span style=display:flex><span>        }                
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Set stroke
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>handIndex</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>landmarkIndex</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>8</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stroke</span>(<span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>))
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>circleSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>40</span>
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stroke</span>(<span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>))
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>circleSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>circle</span>(
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Flip horizontally
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>landmark</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>width</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>landmark</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sketch</span>.<span style=color:#a6e22e>height</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>circleSize</span>
</span></span><span style=display:flex><span>      )
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sphereBrush</span>(<span style=color:#a6e22e>point</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>// TODO parameterize sphere radius and / or
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// alpha channel according to gesture speed
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>point</span>.<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><iframe id=Combinado style=width:625px;height:475px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
            
             <script src=https://unpkg.com/handsfree@8.4.2/build/lib/handsfree.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/freshfork/p5.EasyCam@1.2.1/p5.easycam.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            <script src=/project/sketches/Combinado.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></p><h2 id=conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro
<a class=anchor href=#conclusiones-y-trabajo-futuro>#</a></h2><p>Como se observa se puede mover el mundo con ayuda de la mano izquierda, gracias a la librer√≠a Handsfree.js la cual es capaz de detectar la posici√≥n de los dedos y simular la profundidad con la c√°mara web. Al ejecutar la c√°mara en la p√°gina web esta consume muchos recursos de la CPU ya que hace software rendering en la pintura en 3D, y por otro lado, este tiene algunos problemas al reconocer los gestos, pero se ha podido dibujar y manipular el mundo.</p><p>Para trabajos futuros se espera que se puedan hacer dibujos m√°s f√°cilmente y con diferentes texturas, adem√°s que se pueda optimizar el algoritmo o la manera de interpretar los gestos para un manejo m√°s f√°cil del mundo y tambi√©n una manera m√°s din√°mica para dibujar, este es un tema apasionante y tambi√©n con un gran futuro por delante ya que pueden existir varios usos importantes en todas las ramas del conocimiento en las que se puedan aplicar este tipo de algoritmos.</p><h2 id=recursos>Recursos
<a class=anchor href=#recursos>#</a></h2><ul><li><p>colaboradores de Wikipedia. (2022, 26 febrero). Ray casting. Wikipedia, la enciclopedia libre. <a href=https://es.wikipedia.org/wiki/Ray_castingnpm>https://es.wikipedia.org/wiki/Ray_castingnpm</a>: handsfree. (2021, 28 agosto).</p></li><li><p>Npm. <a href=https://www.npmjs.com/package/handsfree>https://www.npmjs.com/package/handsfree</a></p></li><li><p>Wikipedia contributors. (2022, 10 mayo). Ray casting. Wikipedia. <a href=https://en.wikipedia.org/wiki/Ray_casting#History_of_ray_casting>https://en.wikipedia.org/wiki/Ray_casting#History_of_ray_casting</a></p></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://vcwork.github.io/project/commit/4ace9b54bbb484d1108834e4db9662ccc37a2dd4 title='Last modified by Gerson Pineda | June 15, 2022' target=_blank rel=noopener><img src=/project/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 15, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#entrega-2---3d-brush>Entrega 2 - 3D Brush</a><ul><li><a href=#introducci√≥n>Introducci√≥n</a></li><li><a href=#contexto>Contexto</a><ul><li><a href=#ray-casting>Ray Casting</a></li></ul></li><li><a href=#resultados>Resultados</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a></li><li><a href=#recursos>Recursos</a></li></ul></li></ul></nav></div></aside></main></body></html>